(()=>{"use strict";const t=document.querySelector(".data");const e=document.querySelector("button"),n=document.querySelector("#city");function o(e){const n=async function(t){try{const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=cd6f48f4184542a8aa0160641230505&q=${t}&days=8&aqi=no&alerts=no`);if(!e.ok)throw new Error(e.status);return function(t){const e={country:t.location.country,city:t.location.name,localtime:t.location.localtime},n={condition:t.current.condition.text,temperature:t.current.temp_c,sunrise:t.forecast.forecastday[0].astro.sunrise,sunset:t.forecast.forecastday[0].astro.sunset},o=[];for(let e=1;e<=7;e+=1)o.push({date:t.forecast.forecastday[e].date,minTemp:t.forecast.forecastday[e].day.mintemp_c,maxTemp:t.forecast.forecastday[e].day.maxtemp_c,condition:t.forecast.forecastday[e].day.condition.text,chanceOfRain:t.forecast.forecastday[e].day.daily_chance_of_rain});return{location:e,current:n,forecast:o}}(await e.json())}catch(t){return"400"===t.message?console.log("No such city available!"):console.error(t),!1}}(e);n.then((e=>{var n,o,c;n=e.location,o=e.current,c=e.forecast,t.innerHTML="",function(e,n,o){const c=document.createElement("h1");c.textContent=`${e}, ${n}`,t.appendChild(c);const a=document.createElement("h5");a.textContent=o,t.appendChild(a)}(n.city,n.country,n.localtime),function(e,n,o,c){const a=document.createElement("h3");a.textContent=`TODAY: ${n}°C, ${e}`,t.appendChild(a);const r=document.createElement("h5");r.textContent=`Sunrise: ${o}  | Sunset: ${c}`,t.appendChild(r)}(o.condition,o.temperature,o.sunrise,o.sunset),function(e){e.forEach((e=>{console.log(e);const n=document.createElement("h3");n.textContent=`${e.date} = ${e.maxTemp}°C`,t.appendChild(n);const o=document.createElement("h5");o.textContent=`${e.chanceOfRain}% rain chance - ${e.condition}`,t.appendChild(o)}))}(c)}))}e.addEventListener("click",(()=>{o(n.value)})),o("Cologne")})();